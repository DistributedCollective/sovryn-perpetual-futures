I am using [the np package](https://www.npmjs.com/package/np) to publish to npm since it's straight forward to use and it offers out of the box some extra checks the alternatives don't (they can be seen in the npm link above).



Prerequisites:

- make sure you're a member of [the sovryn organisation on npm](https://www.npmjs.com/org/sovryn). Victor Creed can give you access.



Install it with: `npm install --global np`

Publish with `np --any-branch --no-tests` (it will need to be configured on the first execution)
- the --any-branch is needed because our main branch is the one called dev
- I also use the --no-tests to publish faster and because our tests are testing mainly the smart contracts, not the published js/ts files.



Observation:
In the prepublish operation, the documentation is autogenerated, which makes the package to be considered as "unclean" (there are uncommitted changes) and the publish process to be aborted. Simply commit the updated docs and re-run the publish.



Extra observations:
The README that's shown on the [package's npm page](https://www.npmjs.com/package/@sovryn/perpetual-swap) is the main README from the repo (the one shown in [the github repo](https://github.com/DistributedCollective/sovryn-perpetual-swap/tree/dev) is the .github/README.md one).

All the configuration related to the npm package is in the package.json file, mainly:
- the "files" section describes the files that will be published (no *.sol files, to skip publishing the smart contracts)

- the scripts -> prepublish section is used to:

* generate the docs

 * transpile the ts files in js ones using the tsconfig.npm.json ts config file